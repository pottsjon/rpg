<head>
  <title>rpg</title>
  <link href="//cdn.materialdesignicons.com/3.2.89/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
  <meta name="viewport" content="width=device-width,initial-scale=1"/><meta charset="UTF-8"/>
</head>

<body>
  {{> sAlert}}
</body>

<template name='game'>
  <div class='game'>
    <div class='gamebox'>
      <div id="top">
        <div class="time">{{time}}</div><div class="data">{{{coords}}}<span class="mdi mdi-menu menu-button toggle_manage"></span></div>
      </div>
      {{#if showGame}}
        <div class="inventory {{showInv}}">
          <div class="box">
          {{#each inventory}}{{> item}}{{/each}}
          </div>
          <div class="toggle toggle_inv"><div class="line"></div></div>
        </div>
        {{> yield "visiting"}}
        {{> traveling}}
      {{/if}}
    </div>
  </div>
</template>

<template name='traveling'>
  <div class='traveling'>
    <div class='box'>
      <div class="cities">
        {{#each cities}}{{> city}}{{/each}}
      </div>
      <div class="visit">
        {{{visit}}}{{{next}}}
      </div>
      <div id="map">
      </div>
    </div>
  </div>
</template>

<template name='menu'>
  <div id="menu" class="noselect">
    {{#each menu}}<div class="button menu{{class}}">{{text}}</div>{{/each}}
  </div>
</template>

<template name='loading'>
  <div id='loading' class='flex'>
    <div class='loading'>
    <span>Loading</span>
    </div>
  </div>
</template>
  
<template name='login'>
  <div id='overlay' class='flex'>
    <div id='login' class='box'>
      <div class='logo'></div>
      {{#if showReturning}}
      <input class='loginUsername' type='username' name='username' placeholder='Username'>
      <input class='loginEmail' type='email' name='email' placeholder='Email'>
      <input class='loginPassword' type='password' name='password' placeholder='Password'>
      <div class='button round-sm noselect signIn'>Sign In</div>
      <div class='button round-sm noselect forgotPassword'>Forgot Password</div>
      <div class='button round-sm noselect notReturning'>Back</div>
      {{else}}
      <div class='button round-sm noselect signIn'>Returning User</div>
      <div class='button round-sm noselect createAccount'>New User</div>
      {{/if}}
    </div>
  </div>
</template>

<template name='log'>
  <div class="log">
      {{{message}}}
  </div>
</template>

<template name='skill-backup'>
  {{#if showTitle}}
    <div class="skill title">{{title}}</div>
  {{else}}
    <div class="skill">
      <span class="name">{{name}}</span><span class="amount">{{toNumbers amount}} ({{level}})</span>
    </div>
  {{/if}}
</template>

<template name='item-backup'>
  <div class="item {{toLowerCase item.rarity}}">  
      <span class="name">{{item.name.plural}}</span><span class="amount">{{toNumbers amount}}</span>
  </div>
</template>

<template name='item'>
  <div class="item noselect {{toLowerCase item.rarity}}">
    <div class="image round-lt"><div class="name select"><div class="inside flex">{{item.name.plural}}</div></div>{{{img}}}<div class='amount select'>{{toNumbers amount}}</div></div>
  </div>
</template>

<template name='queue'>
  <div class="queue">
      {{{awarded}}}
      <div class="text">
        {{task.task}}
      </div>
    {{{progress}}}
  </div>
</template>

<template name='task-backup'>
  <div class="task noselect">
    <span class="name">{{task}}</span><span class="amount">Exp Req: {{toNumbers exp}}</span>
  </div>
</template>

<template name='task'>
  <div class="task noselect {{next}}"><div class="rim round-sm"><div class="name"><div class="inside flex">{{name}}</div></div>{{{needed}}}{{{item}}}</div></div>
</template>

<template name='skill'>
  {{#if showTitle}}
    <div class="skill title">{{title}}</div>
  {{else}}
    <div class="skill round-sm">
      {{{icon}}}<span class="amount">{{amount}}{{{level}}}</span>
    </div>
  {{/if}}
</template>

<template name='skillLevel'>
  <div class="skill">
    <div class="inner round-sm">
      {{{icon}}}<span class="amount">{{level}}</span>
    </div>
  </div>
</template>

<template name='worker'>
  <div class="worker">
    <div class="inside round-sm">
      {{{avatar}}}
      <div class="data">
        <div class="name round-sm">{{name}}</div>
        <div class="skills">
          {{#each skills}}{{> skill}}{{/each}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name='employee'>
  <div class="worker employee">
        <div class="inside round-sm">
        <div class="topper">
          {{{avatar}}}<div class="name">{{name}}</div>
        </div>
        {{#each skills}}{{> skillLevel}}{{/each}}
        {{#if menu}}
          {{#each tasks}}{{> task}}{{/each}}
        {{/if}}
    </div>
  </div>
</template>

<template name='employee-backup'>
  <div class="worker employee">
      <div class="inside round-sm">
      {{{avatar}}}
      <div class="data">
        <div class="name round-sm">{{name}}</div>
      </div>
    </div>
  </div>
  {{#each skills}}{{> skill}}{{/each}}
  {{#each queues}}{{> queue}}{{/each}}
  {{#if menu}}
    {{#each tasks}}{{> task}}{{/each}}
  {{/if}}
</template>

<template name='hiring'>
  <div class='hiring'>
    <div class="headline">Employees</div>
    <div class="employees">
      {{#each employees}}{{> employee}}{{/each}}
    </div>
    <div class="headline">Prospects</div>
    <div class="prospects">
      {{#each prospects}}{{> worker}}{{/each}}
    </div>
  </div>
</template>

<template name='production'>
  {{#each tasks}}{{> task}}{{/each}}
</template>

<template name='gathering'>
  {{#each tasks}}{{> task}}{{/each}}
</template>

<template name='stall'>
  <div class="stall">
    <div class="job round-sm {{stage}}">
      {{{stall}}}
      <div class="data">
        {{{skill}}}
        {{#each queues}}{{> queue}}{{/each}}
      </div>
    </div>
  </div>
</template>

<template name='town'>
  <div id='overlay' class='map flex'>
      <div class='box slim'>
        <div class="background"></div>
        <div class="crafting">
          {{> storage}}
          <div class="stalls slim">
            {{#if showMenus}}
              {{#if showWorkers}}
                <div class="header">
                  <div class="headline flex"><span class="text">Choose Employee</span><span class="mdi mdi-close-box close close_menu"></span></div>
                </div>
                <div class="employees slim">
                  {{#each employees}}{{> employee}}{{/each}}
                </div>
              {{/if}}
              {{#if showTasks}}
                <div class="tasks slim">
                  <div class="header">
                    <div class="headline flex"><span class="text">Choose Task</span><span class="mdi mdi-close-box close close_menu"></span></div>
                  </div>
                  {{#each tasks}}{{> task}}{{/each}}
                </div>
              {{/if}}
            {{else}}
              <div class="header">
                <div class="headline flex"><span class="text">{{city}} Work Stalls</span></div>
              </div>
              {{#each stalls}}{{> stall}}{{/each}}
            {{/if}}
          </div>
        </div>
        <div id="skills">
          <div class="headline">Skills</div>
          {{#each skills}}{{> skill}}{{/each}}
        </div>
        {{> hiring}}
        <div class="logs slim">
        {{#each logs}}{{> log}}{{/each}}
        </div>
      </div>
  </div>
</template>

<template name='storage'>
  <div class="storage">
    <div class="header">
      <div class="headline flex"><span class="text">{{city}} Storage</span></div>
    </div>
    <div class="sorts {{sorting}}">
        {{#each sorts}}<div class="sort noselect {{selected}}">{{{arrow}}}{{text}}</div>{{/each}}
    </div>
    <div class="filters {{filtering}}">
        {{#each filters}}<div class="filter noselect {{selected}}">{{{check}}}{{text}}</div>{{/each}}
    </div>
    <div class="buttons">
      <span class="mdi round-sm mdi-filter-variant filter_items {{filter_back}}"></span><span class="mdi round-sm mdi-sort-variant sort_items {{sort_back}}"></span>
    </div>
    <div class="container slim">
    {{#each inventory}}{{> item}}{{/each}}
    </div>
  </div>
</template>

<template name='city'>
  <div class="city">{{{data}}}</div>
</template>

<template name='leaderboard'>
    <div id='overlay' class='leaderboard flex'>
        <div class='box slim'>
            {{> menu}}
            <div class="button half noselect prev">Prev</div><div class="button half noselect next">Next</div>
            {{#each leaders}}
              <div class="leader">
                <div class="name">
                  <span class="rank">{{rank}}</span>
                  <span>{{name}}</span>
                </div>
                <div class="amount">{{toNumbers total}}</div>
              </div>
            {{/each}}
        </div>
    </div>
  </template>