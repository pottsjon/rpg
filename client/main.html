<head>
  <title>rpg</title>
  <link href="//cdn.materialdesignicons.com/3.2.89/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/><meta charset="UTF-8"/>
</head>

<body>
  {{> sAlert}}
</body>

<template name='game'>
  <div class='game'>
    <div class='gamebox'>
      <div id="top">
        <div class="time">{{time}}</div><div class="data">{{{coords}}}<span class="mdi mdi-menu menu-button toggle_manage"></span></div>
      </div>
      {{#if showGame}}
        <div class="inventory {{showInv}}">
          <div class="box">
          {{#each inventory}}{{> item}}{{/each}}
          </div>
          <div class="toggle toggle_inv"><div class="line"></div></div>
        </div>
        {{> yield "visiting"}}
        {{> traveling}}
      {{/if}}
    </div>
  </div>
</template>

<template name='traveling'>
  <div class='traveling'>
    <div class='box'>
      <div class="cities">
        {{#each cities}}{{> city}}{{/each}}
      </div>
      <div class="visit">
        {{{visit}}}{{{next}}}
      </div>
      <div id="map">
      </div>
    </div>
  </div>
</template>

<template name='menu'>
  <div id="menu" class="noselect">
    {{#each menu}}<div class="button menu{{class}}">{{text}}</div>{{/each}}
  </div>
</template>

<template name='loading'>
  <div id='loading' class='flex'>
    <div class='loading'>
    <span>Loading</span>
    </div>
  </div>
</template>
  
<template name='login'>
  <div id='overlay' class='flex'>
    <div id='login' class='box'>
      <div class='logo'></div>
      {{#if showReturning}}
      <input class='loginUsername' type='username' name='username' placeholder='Username'>
      <input class='loginEmail' type='email' name='email' placeholder='Email'>
      <input class='loginPassword' type='password' name='password' placeholder='Password'>
      <div class='button round-sm noselect signIn'>Sign In</div>
      <div class='button round-sm noselect forgotPassword'>Forgot Password</div>
      <div class='button round-sm noselect notReturning'>Back</div>
      {{else}}
      <div class='button round-sm noselect signIn'>Returning User</div>
      <div class='button round-sm noselect createAccount'>New User</div>
      {{/if}}
    </div>
  </div>
</template>

<template name='log'>
  <div class="log">
      {{{message}}}
  </div>
</template>

<template name='skill'>
  {{#if showTitle}}
    <div class="skill title">{{title}}</div>
  {{else}}
    <div class="skill">
      <span class="name">{{name}}</span><span class="amount">{{toNumbers amount}} ({{level}})</span>
    </div>
  {{/if}}
</template>

<template name='item-backup'>
  <div class="item {{toLowerCase item.rarity}}">  
      <span class="name">{{item.name.plural}}</span><span class="amount">{{toNumbers amount}}</span>
  </div>
</template>

<template name='item'>
  <div class="item noselect {{toLowerCase item.rarity}}">
    <div class="image round-sm"><div class="name select">{{item.name.single}}</div>{{{img}}}<div class='amount select'>{{toNumbers amount}}</div></div>
  </div>
</template>

<template name='queue'>
  <div class="queue">
      {{{awarded}}}
      <div class="text">
        {{task.task}}
      </div>
    {{{progress}}}
  </div>
</template>

<template name='task-backup'>
  <div class="task noselect">
    <span class="name">{{task}}</span><span class="amount">Exp Req: {{toNumbers exp}}</span>
  </div>
</template>

<template name='task'>
  <div class="task noselect"><div class="rim round-sm">{{{item}}}</div></div>
</template>

<template name='worker'>
  <div class="worker">
    <span class="name">{{name}}</span>
  </div>
</template>

<template name='employee'>
  <div class="worker employee">
    <span class="name">{{name}}</span>
  </div>
  {{#each skills}}{{> skill}}{{/each}}
  {{#each queues}}{{> queue}}{{/each}}
  {{#if menu}}
    {{#each tasks}}{{> task}}{{/each}}
  {{/if}}
</template>

<template name='hiring'>
  <div class='hiring'>
    <div class="headline">Employees</div>
    {{#each employees}}{{> employee}}{{/each}}
    <div class="headline">Prospects</div>
    {{#each prospects}}{{> worker}}{{/each}}
  </div>
</template>

<template name='production'>
  <div class='production'>
    {{#each tasks}}{{> task}}{{/each}}
  </div>
</template>

<template name='gathering'>
  <div class='gathering'>
    {{#each tasks}}{{> task}}{{/each}}
  </div>
</template>

<template name='town'>
  <div id='overlay' class='map flex'>
      <div class='box slim'>
        <div class="background"></div>
        <div class="storage">
          <div class="container">
          {{#each inventory}}{{> item}}{{/each}}
          </div>
        </div>
        <div class="headline">Skills</div>
        {{#each skills}}{{> skill}}{{/each}}
        {{#each queues}}{{> queue}}{{/each}}
        {{> gathering}}
        {{> production}}
        {{> hiring}}
        <div class="logs slim">
        {{#each logs}}{{> log}}{{/each}}
        </div>
      </div>
  </div>
</template>

<template name='city'>
  <div class="city">{{{data}}}</div>
</template>

<template name='leaderboard'>
    <div id='overlay' class='leaderboard flex'>
        <div class='box slim'>
            {{> menu}}
            <div class="button half noselect prev">Prev</div><div class="button half noselect next">Next</div>
            {{#each leaders}}
              <div class="leader">
                <div class="name">
                  <span class="rank">{{rank}}</span>
                  <span>{{name}}</span>
                </div>
                <div class="amount">{{toNumbers total}}</div>
              </div>
            {{/each}}
        </div>
    </div>
  </template>